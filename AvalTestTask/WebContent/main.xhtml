<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Aval test task</title>
</h:head>

<h:body>

	<h:form id="f1">

		<div class="ui-g">
			<div class="ui-g-3">
				<p:dataTable id="groups" var="group" value="#{mainViewBean.groups}"
					selectionMode="single" selection="#{mainViewBean.selectedGroup}"
					rowKey="#{group.id}" rowIndexVar="rowIndex" paginator="true"
					paginatorAlwaysVisible="true">

					<f:facet name="header">
						Group of Function
					</f:facet>

					<p:ajax event="rowSelect" update="f1:functions f1:params" />

					<p:column headerText="id">
						<p:outputLabel value="#{group.id}" />
					</p:column>

					<p:column headerText="Name">
						<p:outputLabel value="#{group.name}" />
					</p:column>

					<p:column headerText="Description">
						<p:outputLabel value="#{group.description}" />
					</p:column>

					<p:column headerText="count">
						<p:outputLabel value="#{group.functionsCount}" />
					</p:column>

				</p:dataTable>
			</div>

			<div class="ui-g-9">
				<div class="ui-g-12">
					<p:dataTable id="functions" var="function"
						value="#{mainViewBean.functions}" selectionMode="single"
						selection="#{mainViewBean.selectedFunction}"
						rowKey="#{function.id}" rowIndexVar="rowIndex" paginator="true"
						paginatorAlwaysVisible="true">

						<f:facet name="header">
							Functions
						</f:facet>

						<p:ajax event="rowSelect" update="f1:params" />

						<p:column headerText="id">
							<p:outputLabel value="#{function.id}" />
						</p:column>

						<p:column headerText="Name">
							<p:outputLabel value="#{function.name}" />
						</p:column>

						<p:column headerText="Description">
							<p:outputLabel value="#{function.description}" />
						</p:column>

						<p:column headerText="Time create">
							<p:outputLabel value="#{function.cTime}" />
						</p:column>

					</p:dataTable>
				</div>

				<div class="ui-g-12">
					<p:dataTable id="params" var="param" value="#{mainViewBean.params}"
						paginator="true" paginatorAlwaysVisible="true">

						<f:facet name="header">
							Function params
						</f:facet>

						<p:column headerText="id">
							<p:outputLabel value="#{param.id}" />
						</p:column>

						<p:column headerText="Name">
							<p:outputLabel value="#{param.name}" />
						</p:column>

					</p:dataTable>
				</div>
			</div>

		</div>

	</h:form>

</h:body>

</html>
